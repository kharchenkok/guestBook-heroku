(this["webpackJsonpguest-book"]=this["webpackJsonpguest-book"]||[]).push([[0],{126:function(e,t,s){},128:function(e,t,s){"use strict";s.r(t);var a=s(5),n=s(0),r=s(8),i=s.n(r),c=s(29),l=s(71),o=s(30),u=s(17),_=s(42),m=s(41),d=s(165),g=s(43),j=s.n(g),b=function(e){var t=e.children;return Object(a.jsxs)("div",{className:j.a.guestbook_wrapper,children:[Object(a.jsx)(d.a,{in:!0,timeout:500,classNames:j.a,appear:!0,unmountOnExit:!0,children:Object(a.jsx)("h1",{className:j.a.guestbook_title,children:"Guestbook"})}),t]})},p=s(16),O=s(46),f=s(22),x=s(163),h=s(68),v=s.n(h),y=s(164),N=s(158),k=s(6),M=s(162),S=s(34),A=s.n(S),L=s(47),w=s(35),E=s.n(w),C=s(23),J=Object(C.b)({name:"error",initialState:"",reducers:{setError:function(e,t){return t.payload},resetError:function(e,t){t.payload;return""}}}),G=J.actions,T=J.reducer,V=G.setError,q=G.resetError,z=T,D=Object(C.b)({name:"loader",initialState:!1,reducers:{loaderOn:function(e,t){t.payload;return!0},loaderOff:function(e,t){t.payload;return!1}}}),F=D.actions,I=D.reducer,P=F.loaderOn,H=F.loaderOff,R=I,Y=Object(C.b)({name:"messages",initialState:[],reducers:{addMessage:function(e,t){return t.payload},setMessages:function(e,t){return t.payload}}}),W=Y.actions,B=Y.reducer,Q=W.addMessage,U=W.setMessages,X=B;E.a.defaults.baseURL="https://guestbook2021.herokuapp.com/messages",E.a.defaults.headers.post["Content-Type"]="application/json";var Z=s(36),K=s.n(Z),$=function(e){Object(_.a)(s,e);var t=Object(m.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props,t=e.alert,s=e.field;return console.log(s),Object(a.jsx)(d.a,{in:t,classNames:K.a,timeout:250,unmountOnExit:!0,children:Object(a.jsxs)("div",{className:[K.a.alert,"Name"===s?K.a.alert__name:K.a.alert__message].join(" "),children:[s," is empty! Enter this field"]})})}}]),s}(n.Component),ee=Object(N.a)((function(e){return{root:{textAlign:"center",position:"relative","& .MuiTextField-root":{margin:e.spacing(1),display:"flex",flexDirection:"column"}}}})),te=Object(k.a)((function(e){return{root:{color:e.palette.getContrastText(M.a[500]),backgroundColor:M.a[500],"&:hover":{backgroundColor:M.a[700]}}}}))(y.a),se={name:"",message:""},ae=function(){var e=Object(n.useState)(se),t=Object(f.a)(e,2),s=t[0],r=t[1],i=Object(n.useState)(!1),l=Object(f.a)(i,2),o=l[0],u=l[1],_=Object(c.b)();Object(n.useEffect)((function(){var e=localStorage.getItem("message");e&&r(JSON.parse(e)),_(function(){var e=Object(L.a)(A.a.mark((function e(t){var s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(q()),t(P()),e.next=5,E.a.get("/messages");case 5:s=e.sent,t(U(s.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(V(e.t0.message));case 12:return e.prev=12,t(H()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[_]),Object(n.useEffect)((function(){localStorage.setItem("message",JSON.stringify(s))}),[s]);var m=function(e){var t=e.target,a=t.name,n=t.value;r(Object(O.a)(Object(O.a)({},s),{},Object(p.a)({},a,n)))},d=ee();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{className:d.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){var t=s.name,a=s.message;if(e.preventDefault(),0===t.length||0===a.length)return u(!0),void setTimeout((function(){return u(!1)}),1e3);var n,i=(new Date).toLocaleString();_((n={name:t,message:a,date:i},function(){var e=Object(L.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(q()),t(P()),e.next=5,E.a.post("/messages",n).then((function(e){return t(Q(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(V(e.t0.message));case 10:return e.prev=10,t(H()),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}())),r(se)},children:[Object(a.jsx)($,{alert:o,field:s.name.length?"Message":"Name"}),Object(a.jsx)(x.a,{id:"outlined-basic",label:"Name",name:"name",variant:"outlined",value:s.name,onChange:m,required:!0}),Object(a.jsx)(x.a,{id:"outlined-multiline-static",label:"Message",name:"message",value:s.message,multiline:!0,rows:4,variant:"outlined",required:!0,onChange:m}),Object(a.jsx)(te,{variant:"contained",color:"primary",size:"large",endIcon:Object(a.jsx)(v.a,{}),type:"submit",children:"Send your message"})]})})},ne=s(166),re=s(69),ie=s.n(re),ce=s(70),le=s.n(ce),oe=function(){return Object(a.jsx)(ie.a,{className:le.a.loader,type:"Circles",color:"#f50057",height:100,width:100,timeout:3e3})},ue=s(19),_e=s.n(ue),me=function(){var e=Object(c.c)((function(e){return e.messages})),t=Object(c.c)((function(e){return e.loader}));return Object(a.jsxs)("div",{className:_e.a.messagelist__wrapper,children:[Object(a.jsx)("h2",{className:_e.a.messagelist__title,children:"Guest messages:"}),t&&Object(a.jsx)(oe,{}),Object(a.jsx)(ne.a,{component:"ul",className:_e.a.messagelist__list,children:e.map((function(t,s){return Object(a.jsx)(d.a,{in:e.length>0,timeout:250,classNames:_e.a,children:Object(a.jsxs)("li",{className:_e.a.messagelist__item,children:[Object(a.jsxs)("p",{className:_e.a.messagelist__style,children:[s+1+".",Object(a.jsx)("span",{className:_e.a.messagelist__name,children:t.name}),Object(a.jsxs)("span",{className:_e.a.messagelist__date,children:["(",t.date,")"]})]}),Object(a.jsxs)("p",{className:_e.a.messagelist__style,children:['"',t.message,'"']})]})},t.id)}))})]})},de=function(){return Object(a.jsxs)(b,{children:[Object(a.jsx)(ae,{}),Object(a.jsx)(me,{})]})},ge=function(e){Object(_.a)(s,e);var t=Object(m.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(de,{})})}}]),s}(n.Component),je=(s(126),s(14)),be=Object(je.c)({messages:X,error:z,loader:R}),pe=Object(C.a)({reducer:be});i.a.render(Object(a.jsx)(c.a,{store:pe,children:Object(a.jsx)(l.a,{children:Object(a.jsx)(ge,{})})}),document.getElementById("root"))},19:function(e,t,s){e.exports={messagelist__wrapper:"MessageList_messagelist__wrapper__1nObE",messagelist__title:"MessageList_messagelist__title__zZHVV",messagelist__list:"MessageList_messagelist__list__EN4vE",messagelist__style:"MessageList_messagelist__style__3uGz0",messagelist__name:"MessageList_messagelist__name__3WJ2E",messagelist__date:"MessageList_messagelist__date__GxQJO",messagelist__item:"MessageList_messagelist__item__3piYd",enter:"MessageList_enter__2dhDs",enterActive:"MessageList_enterActive__2zXMa",exit:"MessageList_exit__2RpbV",exitActive:"MessageList_exitActive__3fPHx"}},36:function(e,t,s){e.exports={alert:"AlertStyles_alert__1ilhP",alert__name:"AlertStyles_alert__name__-r5q7",alert__message:"AlertStyles_alert__message__10Y_W",enter:"AlertStyles_enter__2dYRT",enterActive:"AlertStyles_enterActive__Nvimq",exit:"AlertStyles_exit__lntv5",exitActive:"AlertStyles_exitActive__3OoP-"}},43:function(e,t,s){e.exports={guestbook_wrapper:"Layout_guestbook_wrapper__3f5nE",guestbook_title:"Layout_guestbook_title__3i6l9",appear:"Layout_appear__3xCHp",appearActive:"Layout_appearActive__26VbE"}},70:function(e,t,s){e.exports={loader:"Loader_loader__wkFPG"}}},[[128,1,2]]]);
//# sourceMappingURL=main.475484dc.chunk.js.map