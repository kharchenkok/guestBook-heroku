(this["webpackJsonpguest-book"]=this["webpackJsonpguest-book"]||[]).push([[0],{126:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a(0),r=a(8),i=a.n(r),c=a(29),l=a(71),o=a(30),u=a(17),_=a(42),m=a(41),d=a(165),g=a(43),j=a.n(g),b=function(e){var t=e.children;return Object(s.jsxs)("div",{className:j.a.guestbook_wrapper,children:[Object(s.jsx)(d.a,{in:!0,timeout:500,classNames:j.a,appear:!0,unmountOnExit:!0,children:Object(s.jsx)("h1",{className:j.a.guestbook_title,children:"Guestbook"})}),t]})},p=a(16),O=a(46),f=a(22),x=a(163),h=a(68),v=a.n(h),y=a(164),N=a(158),k=a(6),M=a(162),S=a(34),A=a.n(S),L=a(47),w=a(35),E=a.n(w),C=a(23),J=Object(C.b)({name:"error",initialState:"",reducers:{setError:function(e,t){return t.payload},resetError:function(e,t){t.payload;return""}}}),G=J.actions,T=J.reducer,V=G.setError,q=G.resetError,z=T,D=Object(C.b)({name:"loader",initialState:!1,reducers:{loaderOn:function(e,t){t.payload;return!0},loaderOff:function(e,t){t.payload;return!1}}}),F=D.actions,I=D.reducer,P=F.loaderOn,H=F.loaderOff,R=I,Y=Object(C.b)({name:"messages",initialState:[],reducers:{addMessage:function(e,t){return t.payload},setMessages:function(e,t){return t.payload}}}),W=Y.actions,B=Y.reducer,Q=W.addMessage,U=W.setMessages,X=B;E.a.defaults.baseURL="https://guestbook2021.herokuapp.com",E.a.defaults.headers.post["Content-Type"]="application/json";var Z=a(36),K=a.n(Z),$=function(e){Object(_.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.alert,a=e.field;return console.log(a),Object(s.jsx)(d.a,{in:t,classNames:K.a,timeout:250,unmountOnExit:!0,children:Object(s.jsxs)("div",{className:[K.a.alert,"Name"===a?K.a.alert__name:K.a.alert__message].join(" "),children:[a," is empty! Enter this field"]})})}}]),a}(n.Component),ee=Object(N.a)((function(e){return{root:{textAlign:"center",position:"relative","& .MuiTextField-root":{margin:e.spacing(1),display:"flex",flexDirection:"column"}}}})),te=Object(k.a)((function(e){return{root:{color:e.palette.getContrastText(M.a[500]),backgroundColor:M.a[500],"&:hover":{backgroundColor:M.a[700]}}}}))(y.a),ae={name:"",message:""},se=function(){var e=Object(n.useState)(ae),t=Object(f.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),l=Object(f.a)(i,2),o=l[0],u=l[1],_=Object(c.b)();Object(n.useEffect)((function(){var e=localStorage.getItem("message");e&&r(JSON.parse(e)),_(function(){var e=Object(L.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(q()),t(P()),e.next=5,E.a.get("/messages");case 5:a=e.sent,t(U(a.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(V(e.t0.message));case 12:return e.prev=12,t(H()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}())}),[_]),Object(n.useEffect)((function(){localStorage.setItem("message",JSON.stringify(a))}),[a]);var m=function(e){var t=e.target,s=t.name,n=t.value;r(Object(O.a)(Object(O.a)({},a),{},Object(p.a)({},s,n)))},d=ee();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{className:d.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){var t=a.name,s=a.message;if(e.preventDefault(),0===t.length||0===s.length)return u(!0),void setTimeout((function(){return u(!1)}),1e3);var n,i=(new Date).toLocaleString();_((n={name:t,message:s,date:i},function(){var e=Object(L.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(q()),t(P()),e.next=5,E.a.post("/messages",n).then((function(e){return t(Q(e.data))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(V(e.t0.message));case 10:return e.prev=10,t(H()),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}())),r(ae)},children:[Object(s.jsx)($,{alert:o,field:a.name.length?"Message":"Name"}),Object(s.jsx)(x.a,{id:"outlined-basic",label:"Name",name:"name",variant:"outlined",value:a.name,onChange:m,required:!0}),Object(s.jsx)(x.a,{id:"outlined-multiline-static",label:"Message",name:"message",value:a.message,multiline:!0,rows:4,variant:"outlined",required:!0,onChange:m}),Object(s.jsx)(te,{variant:"contained",color:"primary",size:"large",endIcon:Object(s.jsx)(v.a,{}),type:"submit",children:"Send your message"})]})})},ne=a(166),re=a(69),ie=a.n(re),ce=a(70),le=a.n(ce),oe=function(){return Object(s.jsx)(ie.a,{className:le.a.loader,type:"Circles",color:"#f50057",height:100,width:100,timeout:3e3})},ue=a(19),_e=a.n(ue),me=function(){var e=Object(c.c)((function(e){return e.messages})),t=Object(c.c)((function(e){return e.loader}));return Object(s.jsxs)("div",{className:_e.a.messagelist__wrapper,children:[Object(s.jsx)("h2",{className:_e.a.messagelist__title,children:"Guest messages:"}),t&&Object(s.jsx)(oe,{}),Object(s.jsx)(ne.a,{component:"ul",className:_e.a.messagelist__list,children:e.map((function(t,a){return Object(s.jsx)(d.a,{in:e.length>0,timeout:250,classNames:_e.a,children:Object(s.jsxs)("li",{className:_e.a.messagelist__item,children:[Object(s.jsxs)("p",{className:_e.a.messagelist__style,children:[a+1+".",Object(s.jsx)("span",{className:_e.a.messagelist__name,children:t.name}),Object(s.jsxs)("span",{className:_e.a.messagelist__date,children:["(",t.date,")"]})]}),Object(s.jsxs)("p",{className:_e.a.messagelist__style,children:['"',t.message,'"']})]})},t.id)}))})]})},de=function(){return Object(s.jsxs)(b,{children:[Object(s.jsx)(se,{}),Object(s.jsx)(me,{})]})},ge=function(e){Object(_.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(de,{})})}}]),a}(n.Component),je=(a(126),a(14)),be=Object(je.c)({messages:X,error:z,loader:R}),pe=Object(C.a)({reducer:be});i.a.render(Object(s.jsx)(c.a,{store:pe,children:Object(s.jsx)(l.a,{children:Object(s.jsx)(ge,{})})}),document.getElementById("root"))},19:function(e,t,a){e.exports={messagelist__wrapper:"MessageList_messagelist__wrapper__1nObE",messagelist__title:"MessageList_messagelist__title__zZHVV",messagelist__list:"MessageList_messagelist__list__EN4vE",messagelist__style:"MessageList_messagelist__style__3uGz0",messagelist__name:"MessageList_messagelist__name__3WJ2E",messagelist__date:"MessageList_messagelist__date__GxQJO",messagelist__item:"MessageList_messagelist__item__3piYd",enter:"MessageList_enter__2dhDs",enterActive:"MessageList_enterActive__2zXMa",exit:"MessageList_exit__2RpbV",exitActive:"MessageList_exitActive__3fPHx"}},36:function(e,t,a){e.exports={alert:"AlertStyles_alert__1ilhP",alert__name:"AlertStyles_alert__name__-r5q7",alert__message:"AlertStyles_alert__message__10Y_W",enter:"AlertStyles_enter__2dYRT",enterActive:"AlertStyles_enterActive__Nvimq",exit:"AlertStyles_exit__lntv5",exitActive:"AlertStyles_exitActive__3OoP-"}},43:function(e,t,a){e.exports={guestbook_wrapper:"Layout_guestbook_wrapper__3f5nE",guestbook_title:"Layout_guestbook_title__3i6l9",appear:"Layout_appear__3xCHp",appearActive:"Layout_appearActive__26VbE"}},70:function(e,t,a){e.exports={loader:"Loader_loader__wkFPG"}}},[[128,1,2]]]);
//# sourceMappingURL=main.05e335d0.chunk.js.map